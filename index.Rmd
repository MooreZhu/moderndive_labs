---
title: "ModernDive Labs and Problem Sets"
author: "Jenny Smetzer, William Hopper, Albert Y. Kim, and Chester Ismay"
date: "Last updated on `r Sys.Date()`"
output:
  html_document:
    toc: false
    toc_depth: 2
    toc_float: true
    df_print: kable
---

<style>
h1{font-weight: 400;}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE, message=FALSE, warning = FALSE, eval = TRUE, 
  fig.width = 16/2, fig.height = 9/2
)

# CRAN R packages:
library(tidyverse)
library(infer)
library(moderndive)
library(patchwork)
library(ggplot2)
library(dplyr)

# Install emo package from GitHub for emoji functionality:
# devtools::install_github("hadley/emo")
library(emo)

# Set seed value of random number generator to get "replicable" random numbers.
# Why 76? Because of https://www.youtube.com/watch?v=xjJ7FheCkCU
set.seed(76)
```

<style>
h1{font-weight: 400;}
</style>

<!-- css code for styling of bullets in problem sets-->
<style>
ul ul {margin-bottom: 10px;}
</style>

<!--
{target="_blank"}
-->

***

On this page you can find:

1. Example [Problem Sets](#problem-sets)
1. A [Final Project](#final-project) template
1. [Previous Versions](#previous-versions) of the ModernDive textbook



# Problem Sets

Dr. Jenny Smetzer and Albert Y. Kim (Smith College) have produced lab materials and problem sets for ModernDive.

The solutions for all lab materials are available to verified instructors by filling out this [Google Form](https://docs.google.com/forms/d/e/1FAIpQLSf68Je_Q3ggRJ-74UtL0xG5-IuuKkSTIpEQZWro-8QbO7nmdA/viewform){target="_blank"}.


<!-- Edit link below to add updated .zip file containing all problem sets  -->
Download all necessary files for the problem sets here: <a href="static/PS08 - confidence intervals/PS08.zip" download>`PS.zip`</a>

* **PS01: Introduction to R** - [problem set](static/PS01 - intro to R/PS01_source.html){target="_blank"}

* **PS02: Data visualization with `ggplot2`** - [problem set](static/PS02 - data visualization/PS02_data_viz.html){target="_blank"}
    + A short [pre-lecture](static/PS02 - data visualization/pre_lecture.pdf){target="_blank"} explaning the Grammar of Graphics as implemented in the `ggplot2` package

* **PS03: Data wrangling with `dplyr`** - [problem set](static/PS03 - data wrangling/PS03_data_wrangling_source.html){target="_blank"}
    + A short [pre-lecture](static/PS03 - data wrangling/pre_lecture.pdf){target="_blank"} explaning the `%>%` operator and `dplyr` wrangling verbs  

* **PS04: Regression with one numerical variable** - [problem set](static/PS04 - simple linear regression/PS04_lastname_firstname.html){target="_blank"}

* **PS05: Regression with one categorical variable** - [problem set](static/PS05 - regression with one cat x/PS05_firstname_lastname.html){target="_blank"}

* **PS06: Regression with one numerical and one categorical variable** - [problem set](static/PS06 - reg with one cat one numeric/PS06_firstname_lastname.html){target="_blank"}

* **PS07: Sampling distributions** - [problem set](static/PS07 - sampling distributions/PS07_firstname_lastname.html){target="_blank"}
    + A [recap](static/PS07 - sampling distributions/sampling_dist_recap.html){target="_blank"} on the effect of sample size on sampling distributions

* **PS08: Confidence intervals and the bootstrap** - [problem set](static/PS08 - confidence intervals/PS08_firstname_lastname.html){target="_blank"}

* **PS09: Hypothesis testing** - [problem set](static/PS09 - hypothesis testing/PS09_firstname_lastname.html){target="_blank"} on

* **PS10: Inference for regression** 
We don't have one yet! If you would like to contribute one, please let us know.



# Final Project

Everything in this course builds up to the term group project, where there is
only one learning goal: *Engage in the data/science research pipeline in as
faithful a manner as possible while maintaining a level suitable for novices.*

<center>
![](static/images/pipeline.png){ width=600px }
</center>

```{r, echo = FALSE}
# Don't repeat yourself!
hint_1 <- "This is the phase of the project that is the least straightforward. Thus, we recommend you start early and get help during the various 220 office hours posted on Moodle early and often."
hint_2 <- "This phase may require revisions to your original choice of data and visits to the Spinelli tutoring center for help with data wrangling. "
```

In order to break down the task and minimize end-of-semester stress, you'll be working on the project in four phases:

1. Project data: Propose a data set for your project. `r hint_1`
1. Project proposal: Ensure you can work with your data in R by performing an exploratory data analysis. `r hint_2`
1. Project submission: Make an initial submission of your project. You will skip some of the sections for now and only complete them after we have covered inference for regression in class. After you submit your work, you will get instructor feedback.
1. Project resubmission: Incorporate your instructor feedback from the project submission phase, complete the remaining sections, and resubmit your project. You will only be graded on your project resubmission.

More detail on how we presented the project are below.

We would like to thank Smith College students Alexis Cohen, Andrianne Dao, Isabel Gomez for allowing us to use their final project as the template.



***



## 1. Project Data {#data} 

### Form groups

1. Form groups of 2-3 students.
    + You **must** all be registered for the same lab section, because certain labs will be devoted to working on the project.
    + All groups members are expected to contribute and you will all be held accountable for your contributions in peer evaluations.
1. Choose a group name. 
1. Assign a "team/group leader" role for each of the four phases of this project to everyone in your team at least once. The team/group leader will have extra administrative duties at each phase. Ex: making Moodle submissions, filling out Google Forms, etc.
1. The team leader for this first "Project Data" phase will then:
    + Create a Slack direct message (DM) that includes all 1) your group members, 2) your instructor, and 3) your lab instructor. Ask all questions relating to your specific project here. That way everyone is on the same page.
    + Submit your group information using the "Project groups Google Form" on Moodle.
1. If you are looking for a group to join, please fill out the "Project groups Google Form" on Moodle.


### Find data

**`r hint_1`**

#### Step 1

Get a sense for the requirements of this project phase by reading the [example data proposal](static/Final Project/1_data_proposal.html){target="_blank"}. It is important not to interpret this example overly literally, as not all data proposals will look exactly like this, but rather will vary on a case-by-case basis. 

#### Step 2

Find a data set that fits these specifications. Note your data may need a little wrangling from its original form.

1. (If available) An [identification variable](https://moderndive.com/1-getting-started.html#identification-vs-measurement-variables){target="_blank"} that uniquely identifies each observation in each row. 
1. A numerical outcome variable $y$. Note: binary outcomes variables with 0/1 values are not technically numerical.
1. Two explanatory variables:
    + A numerical explanatory variable $x_1$. Note: this can be some notion of time.
    + A categorical explanatory variable $x_2$ that has between 3-5 levels. Note: If your data has more than 5 levels, they can be collapsed into 5 using data wrangling later.
1. At least 50 observations/rows.

**Where is this heading?**: For the next project phase (project proposal), you will be making a visualization like this [one](static/Final Project/2_project_proposal_example.html#colored-scatterplot){target="_blank"}. *If you can make a visualization like this one, then your data is set for the rest of the project.* 

#### Step 3

Download the following <a href="static/Final Project/1_data_proposal.Rmd" download>`project_data.Rmd`</a> template R Markdown file and fill it in. 


### What to submit when?

Only the group leader for this phase will make a single submission on behalf of the whole group. They will:

1. The `project_data.Rmd` R Markdown file
1. The `project_data.html` HTML report file
1. Only if your data is confidential or has private information, submit your Excel or CSV file as well. Otherwise your should publish your data on Google Sheets following [these steps](https://twitter.com/rudeboybert/status/1055821833512071168){target="_blank"}. 

If your submission is incomplete, it can lead to delays in feedback delivery.


### Possible sources for data

* Best option: data from your own research or other courses. If you are interested in biology, check out Marney Pratt's [lab page](http://www.science.smith.edu/pratt/projects/){target="_blank"}.
* Next best option: data for a topic you are interested in. For help on this, visit Spinelli Center Data Counselor [Osman Keshawarz](https://www.smith.edu/qlc/tutoring.html?colDataCnslr=open#PanelDataCnslr){target="_blank"}.
* Next best option: Online data repositories such as (but not limited to):
    + [IPUMS survey & census data](https://ipums.org/){target="_blank"}
    + [data.world](https://data.world/){target="_blank"}
    + [Tableau](https://public.tableau.com/en-us/s/resources){target="_blank"}
    + [Google Dataset Search](https://toolbox.google.com/datasetsearch){target="_blank"}
    + [StatLib Datasets Archive](http://lib.stat.cmu.edu/datasets/)
* You may not use the following data:
    + Any datasets used in this class, either in ModernDive or in any of the examples.
    + Any data from the data journalism website FiveThirtyEight.com

### Hints

* When you have questions:
    + If possible, please ask questions that you think the entire class would like to know the answer to in the `project` channel in Slack.
    + Ask more individual questions in the group DM that includes all group members + your instructor + your lab instructor.
* Only minimal data wrangling using the `dplyr` package is expected at this time; you will be doing more for the "project proposal" phase coming up. That being said, feel free to experiment!
* Don't forget to consult the office hours calendar posted on Moodle when you need help. Most of you will likely need it!


### General feedback for all groups {#phase_I_feedback}

1. Disclaimer: Just because things seem good now doesn't mean your project data is set for semester. Unforeseen problems may crop up during the next phase on data wrangling, at which point you may need to revise your data. This is a reality of data collection in the real world!
1. Do not include any `View()` statements in your `.Rmd` files as this may cause an error.
1. Avoid "data dumps". For example, showing the contents of all 1000 rows in a data frame. This will make your output document really large and unreadable.



***



## 2. Project proposal due {#proposal}

**`r hint_2`**

### Build a project proposal

#### Step 1

Get a sense for the requirements of this project phase by reading the [project proposal](static/Final Project/2_project_proposal_example.html){target="_blank"}. It is important not to interpret this example overly literally, as not all project proposals will look exactly like this, but rather will vary on a case-by-case basis. 

#### Step 2

Download the following <a href="static/Final Project/2_project_proposal.Rmd" download>`project_proposal.Rmd`</a> template R Markdown file and start filling it in. 

#### Step 3

Your data may require some wrangling to get it in the appropriate format. Given that this is not a class where data wrangling is a central focus, we suggest you check out the following resources:

1. The Spinelli Center evening tutoring hours on Sun-Thurs 7-9pm. All student tutors there have taken [SDS 192 Data Science](https://www.smith.edu/academics/academic-program/curriculum/course-search?term=Spring+2020&dept=Statistical+and+Data+Sciences&instr=&credits=&course_numb=192&course_keywd=&op=Submit&form_build_id=form-wFN3QGp-YpOHvSETMIKm1Wzwq1snu0oWeSR1I3dUByQ&form_id=campus_course_search_basic_search_form){target="_blank"} and can thus help you get the data into the appropriate format. 
1. Check out ModernDive Appendix C on [data wrangling "tips & tricks"](https://moderndive.com/C-appendixC.html){target="_blank"}, where you'll find example code on:
    + C.1.1 Dealing with `NA` missing values
    + C.1.3 Showing money on an axis in a plot
    + C.1.4 Changing values inside cells
    + C.1.5 Converting a numerical variable to a categorical one
    + C.1.6 Computing proportions
    + C.1.7 Dealing with `%`, commas, and `$` symbols in your data


### What to submit when?

Only the group leader for this phase will make a single submission on behalf of the whole group. They will:

1. The `project_proposal.Rmd` R Markdown file
1. The `project_proposal.html` HTML report file
1. Only if your data is confidential or has private information, submit your Excel or CSV file as well. Otherwise your should publish your data on Google Sheets following [these steps](https://twitter.com/rudeboybert/status/1055821833512071168){target="_blank"}. 

If your submission is incomplete, it can lead to delays in feedback delivery.



*** 



## 3. Project Submission {#submission}

1. Read the following sections of the example [project resubmission](static/Final Project/4_resubmission_example.html){target="_blank"}:
    + Section 1: Introduction
    + Section 2: Exploratory data analysis
    + Section 3 subsections 3.1, 3.2, and 3.3: Multiple linear regression: Methods, Model Results, Interpreting the regression table.    
1. Download the following <a href="static/Final Project/3_submission_example.Rmd" download>`project_submission.Rmd`</a> R Markdown file
    + Complete the following sections:
        + Section 1: Introduction
        + Section 2: Exploratory data analysis
        + Section 3 subsections 3.1, 3.2, and 3.3: Multiple linear regression: Methods, Model Results, Interpreting the regression table.
    + Do not complete the following sections (you'll be doing this for at the resubmission phase):
        + Section 3 subsections 3.4, 3.5: Inference for multiple regression
        + Section 4: Discussion. You will write this conclusion based on the results of sections 3.4 and 3.5.
1. Only the group leader tasked for this project phase will submit the following files on Moodle on behalf of the whole group:
    1. The `project_submission.Rmd` R Markdown file with sections 1, 2, 3.1, 3.2, and 3.3 completed
    1. The `project_submission.html` HTML report file.
    1. Only if your data is confidential or has private information, submit your Excel or CSV file as well. Otherwise your should publish your data on Google Sheets. 



***



## 4. Project Resubmission {#resubmission}

1. Re-read the previous sections of the example [project resubmission](static/Final Project/4_resubmission_example.html){target="_blank"} you read earlier. In addition, read the following sections you skipped previously:
    + Section 3 subsections 3.4, 3.5: Inference for multiple regression
    + Section 4: Discussion.
1. Using the same `project_submission.Rmd` file you submitted for the project submission phase:
    + Incorporate any feedback given to you from the project submission phase.
    + Complete Sections 3.4 and 3.5: Inference for multiple regression
    + Complete Section 4: Discussion. You will write this conclusion based on the results of sections 3.4 and 3.5.
1. Only the group leader tasked for this project phase will submit the following files on Moodle on behalf of the whole group:
    1. The updated `project_submission.Rmd` R Markdown file.
    1. The updated `project_submission.html` HTML report file.
    1. Only if your data is confidential or has private information, submit your Excel or CSV file as well. Otherwise your should publish your data on Google Sheets.
1. Everyone must complete the exit survey Google Form (to be posted at the end of semester). There are four sections:
    1. Evaluating your peers' contributions for the project.
    1. Questions about you.
    1. General questions about the course.

   

# Previous Versions

* These are the **previous online versions** of the ModernDive textbook that may be out of date:
    + [Version 1.0.0](https://moderndive.com/previous_versions/v1.0.0/index.html) released on November 25, 2019 ([source code](https://github.com/moderndive/ModernDive_book/releases/tag/v1.0.0))
    + [Version 0.6.1](https://moderndive.com/previous_versions/v0.6.1/index.html) released on August 28, 2019 ([source code](https://github.com/moderndive/ModernDive_book/releases/tag/v0.6.1))
    + [Version 0.6.0](https://moderndive.com/previous_versions/v0.6.0/index.html) released on August 7, 2019 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.6.0))
    + [Version 0.5.0](https://moderndive.com/previous_versions/v0.5.0/index.html) released on February 24, 2019 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.5.0))
    + [Version 0.4.0](https://moderndive.com/previous_versions/v0.4.0/index.html) released on July 21, 2018 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.4.0))
    + [Version 0.3.0](https://moderndive.com/previous_versions/v0.3.0/index.html) released on February 3, 2018 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.3.0))
    + [Version 0.2.0](https://moderndive.com/previous_versions/v0.2.0/index.html) released on August 2, 2017 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.2.0))
    + [Version 0.1.3](https://moderndive.com/previous_versions/v0.1.3/index.html) released on February 9, 2017 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.1.3))
    + [Version 0.1.2](https://moderndive.com/previous_versions/v0.1.2/index.html) released on January 22, 2017 ([source code](https://github.com/moderndive/moderndive_book/releases/tag/v0.1.2))

    